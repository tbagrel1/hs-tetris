<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Pieces</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hs-tetris-0.1.0</span><ul class="links" id="page-menu"><li><a href="src/Pieces.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Thomas BAGREL @ TWEAG 2021</td></tr><tr><th>License</th><td>AGPL-3.0</td></tr><tr><th>Maintainer</th><td>Thomas BAGREL &lt;thomas.bagrel@tweag.io&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Pieces</p></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Orientation">Orientation</a><ul class="subs"><li>= <a href="#v:S0">S0</a></li><li>| <a href="#v:S1">S1</a></li><li>| <a href="#v:S2">S2</a></li><li>| <a href="#v:S3">S3</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:PieceType">PieceType</a><ul class="subs"><li>= <a href="#v:I">I</a></li><li>| <a href="#v:J">J</a></li><li>| <a href="#v:L">L</a></li><li>| <a href="#v:O">O</a></li><li>| <a href="#v:S">S</a></li><li>| <a href="#v:T">T</a></li><li>| <a href="#v:Z">Z</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:MovingPiece">MovingPiece</a> = <a href="#v:MovingPiece">MovingPiece</a> {<ul class="subs"><li><a href="#v:pieceType">pieceType</a> :: <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a></li><li><a href="#v:orientation">orientation</a> :: <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a></li><li><a href="#v:center">center</a> :: <a href="Coords.html#t:RatCoord" title="Coords">RatCoord</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:PieceGrid">PieceGrid</a> = <a href="Grid.html#t:Grid" title="Grid">Grid</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a>)</li><li class="src short"><a href="#v:generatePieceBag">generatePieceBag</a> :: <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a>]</li><li class="src short"><a href="#v:spawnPiece">spawnPiece</a> :: <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></li><li class="src short"><a href="#v:applyMove">applyMove</a> :: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="Game.html#t:MoveType" title="Game">MoveType</a> -&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></li><li class="src short"><a href="#v:solidifyPiece">solidifyPiece</a> :: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a></li><li class="src short"><a href="#v:selfRepr">selfRepr</a> :: <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; [<a href="Coords.html#t:IntCoord" title="Coords">IntCoord</a>]</li><li class="src short"><a href="#v:ghostRepr">ghostRepr</a> :: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; [<a href="Coords.html#t:IntCoord" title="Coords">IntCoord</a>]</li><li class="src short"><a href="#v:isValid">isValid</a> :: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Orientation" class="def">Orientation</a> <a href="src/Pieces.html#Orientation" class="link">Source</a> <a href="#t:Orientation" class="selflink">#</a></p><div class="doc"><p>Represents the four orientations a piece can take in Tetris</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:S0" class="def">S0</a></td><td class="doc"><p>Initial state, horizontal (for most pieces)</p></td></tr><tr><td class="src"><a id="v:S1" class="def">S1</a></td><td class="doc"><p>After 1 clockwise rotation action</p></td></tr><tr><td class="src"><a id="v:S2" class="def">S2</a></td><td class="doc"><p>After 2 rotation actions</p></td></tr><tr><td class="src"><a id="v:S3" class="def">S3</a></td><td class="doc"><p>After 3 clockwise rotation actions</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Orientation">Instances</h4><details id="i:Orientation" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Orientation:Eq:1"></span> <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a></span> <a href="src/Pieces.html#line-72" class="link">Source</a> <a href="#t:Orientation" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Orientation:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Pieces.html">Pieces</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a> -&gt; <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a> -&gt; <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Orientation:Show:2"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a></span> <a href="src/Pieces.html#line-72" class="link">Source</a> <a href="#t:Orientation" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Orientation:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Pieces.html">Pieces</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:PieceType" class="def">PieceType</a> <a href="src/Pieces.html#PieceType" class="link">Source</a> <a href="#t:PieceType" class="selflink">#</a></p><div class="doc"><p>Tetrominos types</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:I" class="def">I</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:J" class="def">J</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:L" class="def">L</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:O" class="def">O</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:S" class="def">S</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:T" class="def">T</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Z" class="def">Z</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:PieceType">Instances</h4><details id="i:PieceType" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PieceType:Eq:1"></span> <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a></span> <a href="src/Pieces.html#line-83" class="link">Source</a> <a href="#t:PieceType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PieceType:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Pieces.html">Pieces</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a> -&gt; <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a> -&gt; <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:PieceType:Show:2"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a></span> <a href="src/Pieces.html#line-83" class="link">Source</a> <a href="#t:PieceType" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:PieceType:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Pieces.html">Pieces</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:MovingPiece" class="def">MovingPiece</a> <a href="src/Pieces.html#MovingPiece" class="link">Source</a> <a href="#t:MovingPiece" class="selflink">#</a></p><div class="doc"><p>The moving piece (i.e. one which is still falling) is defined by its type, orientation and center of rotation</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MovingPiece" class="def">MovingPiece</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:pieceType" class="def">pieceType</a> :: <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a></dfn><div class="doc"><p>Type of tetromino</p></div></li><li><dfn class="src"><a id="v:orientation" class="def">orientation</a> :: <a href="Pieces.html#t:Orientation" title="Pieces">Orientation</a></dfn><div class="doc"><p>Current orientation of the piece</p></div></li><li><dfn class="src"><a id="v:center" class="def">center</a> :: <a href="Coords.html#t:RatCoord" title="Coords">RatCoord</a></dfn><div class="doc"><p>Center of rotation of this piece. Can be a rational point (we consider that the center of each grid cell has integer coordinates, so the borders/corners of cells have rational coordinates)</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MovingPiece">Instances</h4><details id="i:MovingPiece" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MovingPiece:Eq:1"></span> <a href="../base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></span> <a href="src/Pieces.html#line-94" class="link">Source</a> <a href="#t:MovingPiece" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MovingPiece:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Pieces.html">Pieces</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:MovingPiece:Show:2"></span> <a href="../base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></span> <a href="src/Pieces.html#line-94" class="link">Source</a> <a href="#t:MovingPiece" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:MovingPiece:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Pieces.html">Pieces</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a> -&gt; <a href="../base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a>] -&gt; <a href="../base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:PieceGrid" class="def">PieceGrid</a> = <a href="Grid.html#t:Grid" title="Grid">Grid</a> (<a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a>) <a href="src/Pieces.html#PieceGrid" class="link">Source</a> <a href="#t:PieceGrid" class="selflink">#</a></p><div class="doc"><p>Type alias for a grid in which each cell can contain a colored square or be empty.</p></div></div><div class="top"><p class="src"><a id="v:generatePieceBag" class="def">generatePieceBag</a> :: <a href="../base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a>] <a href="src/Pieces.html#generatePieceBag" class="link">Source</a> <a href="#v:generatePieceBag" class="selflink">#</a></p><div class="doc"><p>Generates a list of piece types where each type appears only one (but in a random order).</p></div></div><div class="top"><p class="src"><a id="v:spawnPiece" class="def">spawnPiece</a> <a href="src/Pieces.html#spawnPiece" class="link">Source</a> <a href="#v:spawnPiece" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Pieces.html#t:PieceType" title="Pieces">PieceType</a></td><td class="doc"><p>Type of tetromino to spawn</p></td></tr><tr><td class="src">-&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></td><td class="doc"><p>The resulting moving piece</p></td></tr></table></div><div class="doc"><p>Creates a new moving piece using the specified type.</p></div></div><div class="top"><p class="src"><a id="v:applyMove" class="def">applyMove</a> <a href="src/Pieces.html#applyMove" class="link">Source</a> <a href="#v:applyMove" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a></td><td class="doc"><p>The grid to work on. Used to check which moves are valid or not</p></td></tr><tr><td class="src">-&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></td><td class="doc"><p>The current state of the falling piece</p></td></tr><tr><td class="src">-&gt; <a href="Game.html#t:MoveType" title="Game">MoveType</a></td><td class="doc"><p>Move requested by the user</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></td><td class="doc"><p>Updated moving piece if the move can be executed</p></td></tr></table></div><div class="doc"><p>Given the grid, the current moving piece and the move type requested by the user,
 returns a moving piece with its orientation and position updated, if the move is possible.</p></div></div><div class="top"><p class="src"><a id="v:solidifyPiece" class="def">solidifyPiece</a> <a href="src/Pieces.html#solidifyPiece" class="link">Source</a> <a href="#v:solidifyPiece" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a></td><td class="doc"><p>The grid to update</p></td></tr><tr><td class="src">-&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></td><td class="doc"><p>The moving piece to solidify</p></td></tr><tr><td class="src">-&gt; <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a></td><td class="doc"><p>The updated grid</p></td></tr></table></div><div class="doc"><p>When a moving piece has finished falling, this function transforms it into colored square cells in the grid.</p></div></div><div class="top"><p class="src"><a id="v:selfRepr" class="def">selfRepr</a> <a href="src/Pieces.html#selfRepr" class="link">Source</a> <a href="#v:selfRepr" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></td><td class="doc"><p>The current moving piece</p></td></tr><tr><td class="src">-&gt; [<a href="Coords.html#t:IntCoord" title="Coords">IntCoord</a>]</td><td class="doc"><p>List of grid coordinates on which to show the piece</p></td></tr></table></div><div class="doc"><p>Returns the grid cells on which the moving piece must be shown.</p></div></div><div class="top"><p class="src"><a id="v:ghostRepr" class="def">ghostRepr</a> <a href="src/Pieces.html#ghostRepr" class="link">Source</a> <a href="#v:ghostRepr" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a></td><td class="doc"><p>The grid</p></td></tr><tr><td class="src">-&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></td><td class="doc"><p>The current moving piece</p></td></tr><tr><td class="src">-&gt; [<a href="Coords.html#t:IntCoord" title="Coords">IntCoord</a>]</td><td class="doc"><p>List of grid coordinates on which to show the piece &quot;ghost&quot;</p></td></tr></table></div><div class="doc"><p>Returns the grid cells on which the &quot;ghost&quot; (i.e. the ground projection) of the moving piece must be shown.</p></div></div><div class="top"><p class="src"><a id="v:isValid" class="def">isValid</a> <a href="src/Pieces.html#isValid" class="link">Source</a> <a href="#v:isValid" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Pieces.html#t:PieceGrid" title="Pieces">PieceGrid</a></td><td class="doc"><p>The grid to work on</p></td></tr><tr><td class="src">-&gt; <a href="Pieces.html#t:MovingPiece" title="Pieces">MovingPiece</a></td><td class="doc"><p>The piece position to check</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>True iif the moving piece position is valid</p></td></tr></table></div><div class="doc"><p>Tells whether a moving piece position is valid or not:
    + all its squares must be in the grid or its vertical extension
    + the squares must not overlap an already solidified colored square in the grid</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>